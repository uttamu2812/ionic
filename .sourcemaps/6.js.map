{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams ,ToastController} from 'ionic-angular';\n\nimport { Item } from '../../models/item';\nimport { Flight } from '../../models/flight';\nimport { Items } from '../../providers/providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html'\n})\nexport class SearchPage {\n  sourceAirportList:any = [];\n  destinationAirportList:any = [];\n  flightDetails:Flight[]=[];\n  source:any;\n  destination:any;\n  sourceCode:any;\n  destinationCode:any;\n  sourceObj:Item;\n  destinationObj:Item;\n  travelData: any;\n  datesGiven:boolean;\n  searchWidget:boolean;\n  logoimg:any;\n  constructor(public navCtrl: NavController, public toastCtrl: ToastController,public navParams: NavParams, public items: Items) { \n    this.datesGiven=false;\n    this.searchWidget=true;\n    this.travelData=this.getCurrentDate();\n    console.log(this.travelData);\n    \n  }\n\n getCurrentDate() {\n    var date = new Date(),\n        mnth = (\"0\" + (date.getMonth()+1)).slice(-2),\n        day  = (\"0\" + date.getDate()).slice(-2);\n    return [ date.getFullYear(), mnth, day ].join(\"-\");\n}\n  /**\n   * Perform a service for the proper items.\n   */\n  getSourceAirportList(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      this.sourceAirportList = [];\n      return;\n    }\n\n     this.items.getAirports().subscribe((resp) => {\n  this.sourceAirportList=resp[\"airports\"].filter((item) => {\n      \n        let field = item[\"name\"];\n        if (field.toLowerCase().indexOf(val.toLowerCase()) >= 0) {\n          return item;\n        } else if (field == val) {\n          return item;\n        }\n      \n      return null;\n    });\n    }, (err) => {\n      //this.navCtrl.push(MainPage);\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: err,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });\n\n\n    /*this.sourceAirportList = this.items.getAirports({\n      name: val\n    });*/\n  }\n\n    getDestinationAirportList(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      this.destinationAirportList = [];\n      return;\n    }\n     this.items.getAirports().subscribe((resp) => {\n        this.destinationAirportList=resp[\"airports\"].filter((item) => {\n      \n        let field = item[\"name\"];\n        if (field.toLowerCase().indexOf(val.toLowerCase()) >= 0) {\n          return item;\n        } else if (field == val) {\n          return item;\n        }\n      \n      return null;\n    });\n    }, (err) => {\n      //this.navCtrl.push(MainPage);\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: err,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n  \n    });\n\n   /* this.destinationAirportList = this.items.getAirports({\n      name: val\n    });*/\n  }\n/*selectSource*/\n\nselectSource(item: Item){\n  this.sourceObj=item;\n  this.source=item[\"name\"];\n  this.sourceAirportList = [];\n}\nselectDestination(item: Item){\n  this.destinationObj=item;\n  this.destination=item[\"name\"];\n  this.destinationAirportList = [];\n}\n\nsearchFlight(){\nthis.sourceCode=this.sourceObj[\"code\"]\nthis.destinationCode=this.destinationObj[\"code\"];\nthis.searchWidget=false;\nthis.items.getFlightList().subscribe((resp) => {\n  \n   this.flightDetails=resp[\"FareInfo\"];\n      console.log(this.flightDetails);\n    }, (err) => {\n      //this.navCtrl.push(MainPage);\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: err,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });\n\n}\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openItem(item: any) {\n    this.navCtrl.push('ItemDetailPage', {\n      item: item,\n      logoimg:'assets/img/SY.png',\n      source:this.source,\n      destination:this.destination,\n      sourceCode:this.sourceCode,\n      destinationCode:this.destinationCode,\n      travelData: this.travelData\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}